"use strict";(self.webpackChunkclouding_frontend=self.webpackChunkclouding_frontend||[]).push([[836],{91836:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(47313),a=s(10807),l=s(58467),n=s(46417);const c=e=>{let{item:t,setEditedItemId:s,archiveMutation:i}=e;const c=(0,l.s0)();return(0,n.jsxs)("div",{className:"tableRow",children:[(0,n.jsx)("div",{className:"tableCell py-4 ps-2 roundedLeft",onClick:()=>c("/project-detail/".concat(t.id)),children:(0,n.jsx)("div",{className:"status-default",style:{backgroundColor:t.color},children:t.name})}),(0,n.jsx)("div",{className:"tableCell",children:(0,n.jsx)("div",{className:"status-green-dark",children:t.usersCount})}),(0,n.jsx)("div",{className:"tableCell cursor-pointer roundedRight",children:(0,n.jsx)(a.Cg,{itemId:null===t||void 0===t?void 0:t.id,name:"user",setEditedItemId:s,archiveMutation:i})})]})},d=e=>{let{listProjects:t,isSuccess:s,isLoading:i,totalPage:l,setEditedItemId:d,archiveMutation:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"tableOuter",children:[(0,n.jsxs)("div",{className:"tableContainer",children:[(0,n.jsxs)("div",{className:"tableHead",children:[(0,n.jsx)("div",{className:"tableCell pb-4",children:"Name"}),(0,n.jsx)("div",{className:"tableCell",children:"Assigned to"}),(0,n.jsx)("div",{className:"tableCell"})]}),s&&t.map((e=>(0,n.jsx)(c,{item:e,setEditedItemId:d,archiveMutation:r},e.id)))]}),s&&0===t.length&&(0,n.jsx)(a.Jd,{})]}),(s&&0!==t.length||i)&&(0,n.jsx)(a.tl,{pageCount:l||5})]})};var r=s(75627),o=s(95483);const h=e=>{let{title:t="",method:s,handleSubmit:i,onLoading:l,onClose:c}=e;return(0,n.jsx)(r.RV,{...s,children:(0,n.jsxs)("form",{onSubmit:s.handleSubmit(i),children:[(0,n.jsxs)(o.Z,{title:t,className:"pb-4 borderBottom",classTitle:"title-green",children:[(0,n.jsx)(a.LX,{name:"name",label:"Project name",type:"text",placeholder:"Enter project name",tooltip:"Project name is required"}),(0,n.jsx)(a.LX,{name:"description",label:"Description",type:"text",placeholder:"Enter description"})]}),(0,n.jsxs)("div",{className:"pt-5 d-flex justify-content-end align-items-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{onClick:c,className:"button-white me-2",children:"Cancel"})}),(0,n.jsx)("div",{children:(0,n.jsx)(a.Z6,{threeDotsWidth:"20",threeDotsHeight:"20",type:"submit",className:"button px-4",value:"Save",notMaxWidth:!0,loading:!1})})]})]})})};var u=s(42161);const j=e=>{let{onClose:t}=e;const{addProjectMutation:s}=(0,u.jK)(),i=(0,r.cI)({});return(0,n.jsx)(h,{title:"Add Project",method:i,handleSubmit:e=>{s.mutate(e,{onSuccess:()=>{t()}})},onLoading:!1,onClose:t})};var m=s(13489);const v=()=>{const[e,t]=(0,i.useState)(!1),{listProjects:s,isLoading:l,isSuccess:c,pagination:r}=(0,u.jK)(),{archivedList:o,isSuccess:h,isLoading:v,search:x,handleSearch:p,archiveMutation:g,unarchiveMutation:b}=(0,u.w1)({archivedProjects:{listArchivedAPI:m.KG,archiveAPI:m.BF,unarchiveAPI:m.L2,keyArchivistList:"project-archivist-list",keyList:"projects",title:"Project"}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.u_,{outerClassName:"outerModal",visible:e||"undefined"!==typeof editedItemId,onClose:()=>{t(!1)},children:e&&(0,n.jsx)(j,{onClose:()=>t(!1)})}),(0,n.jsx)(a.Zb,{title:"".concat(c?r.total:"0"," Projects"),classTitle:"title-purple",head:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.HK,{placeholder:"Search by name"}),(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)(a.i6,{handleClickAdd:()=>t(!0),titleButton:"Add Project",className:"me-2"}),(0,n.jsx)(a.kg,{title:"Archived projects",name:"projects",archivedList:o,isSuccess:h,isLoading:v,search:x,handleSearch:p,unarchiveMutation:b})]})]}),children:(0,n.jsx)(d,{listProjects:s,isSuccess:c,isLoading:l,totalPage:null===r||void 0===r?void 0:r.totalPage,archiveMutation:g})})]})}}}]);